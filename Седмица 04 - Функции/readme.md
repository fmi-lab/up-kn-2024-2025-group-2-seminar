# Седмица 04 - Функции

## Функции в C++
Функциите в C++ представляват групирани множества от инструкции, на които е дадено някакво име. Функциите могат да приемат параметри и задължително трябва да връщат някакъв резултат. Пример за функция е:
```c++
bool are_equal(double a, double b) {
  constexpr double EPSILON = 10e-6;
  return std::fabs(a - b) < EPSILON;
}
```

Структурата на горната функция е следната:
- `bool` - тип на върнатия резултат. Може да е всеки един от разгледаните типове до сега;
- `are_equal` - име на функцията, чрез което можем да я извикаме;
- `(double a, double b)` - параметри/аргументи на функцията. Няма ограничение в броя и типовете на параметрите - може дори да не подаваме никакви параметри, ако не е нужно.
- `return std::fabs(a - b) < EPSILON;` - стойността от изпълнението на израза вдясно от ключовата дума `return` е резултатът, който ще върне функцията.

## Как се декларират функции?
Функциите се декларират извън `main`. Най-често функциите се пишат над `main`. Ако искаме да напишем функция под `main`, то тогава първо трябва да декларираме сигнатурата на функцията над `main`. Ето как биха изглеждали двата варианта:
```c++
#include <iostream>
#include <cmath>

bool are_equal(double a, double b) {
  constexpr double EPSILON = 10e-6;
  return std::fabs(a - b) < EPSILON;
}

int main() {
    // code...
}
``` 

Тук декларацията и реализацията на функцията са на едно място.
```c++
#include <iostream>
#include <cmath>

bool are_equal(double a, double b);

int main() {
    // code...
}

bool are_equal(double a, double b) {
  constexpr double EPSILON = 10e-6;
  return std::fabs(a - b) < EPSILON;
}
```
Обърнете внимание, че когато декларираме сигнатурата на функцията отделно от нейната реализация, трябва да сложим точка и запетая след декларацията.

## Как се ползват функции?
За да използваме нашите функции, трябва да ги извикаме в нашия код. При извикването на функцията трябва да напишем нейното име и ако тя приема някакви параметри, трябва да ги подадем в скоби. Пример:
```c++
#include <iostream>
#include <cmath>

bool are_equal(double a, double b) {
  constexpr double EPSILON = 10e-6;
  return std::fabs(a - b) < EPSILON;
}

int main() {
  double u, v;
  std::cin>>u>>v;

  std::cout<<std::boolalpha<<are_equal(u, v)<<'\n';

  return 0;
}
```
Обърнете внимание, че променливите, които подадохме като параметри на функцията, имат различни имена от параметрите в декларацията на функцията.

## Формални и фактически параметри
Формалните параметри са променливите, които дефинираме като параметри в декларацията на функцията. Фактическите параметри са променливите, които подаваме като параметри, когато извикваме функцията. В горния пример `a` и `b` са формални, а `u` и `v` - фактически параметри.

## Процедури
Процедурите са функции, които не връщат стойност. При тяхната декларация, вместо да пишем тип на върнатия резултат, пишем ключовата дума `void`. В голяма част от останалите програмни езици не се прави разлика между функции и процедури.

## Защо ни трябват функции?
Основното предимство на функциите е, че те ни позволяват да изнесем някаква често повтаряща се логика, с цел по-малко повтаряне и по-добра четимост на кода. Това не означава, че трябва да се ограничим само до това - понякога е добра да изнесем и логика, която не се повтаря, но е сложна и дълга. Така можем да тестваме отделните части на програмата независимо една от друга и да направим кода по-ясен и чист. По принцип трябва да се опитваме да правим нашите функции сравнително кратки, като всяка функция трябва да извършва една конкретна операция или задача.

## Задача 01 - Двоични числа
Напишете функция `to_binary`, която по подадено естествено число, връща числото, записано в двоична бройна система.

### Пример:
```c++
std::cout << to_binary(13) << '\n'; // -> 1101
```

## Задача 02 - Кубове
Напишете функция `cubes`, която приема естествено число `n`, и извежда всички кубове, по-малки от `n`.

```c++
cubes(900); // -> 1 8 27 64 125 216 343 512 729
```

## Задача 03 - Редица
Напишете функция `sequence`, която по подадено естествено число `n`, извежда първите `n` члена на редицата:
<pre>
    a<sub>i</sub> = 2*i<sup>3</sup> + 3*i
</pre>

### Пример:
```c++
sequence(6); // -> 5 22 63 140 265 450
```

## Задача 04 - Прости числа
Напишете функция `primes`, която по подадено естествено число `n`, извежда първите `n` прости числа.

### Пример:
```c++
primes(5); // -> 2 3 5 7 11
```

## Задача 05 - Комбинации
Напишете функция `combinations`, която приема 2 естествени числа `n` и `k`, и намира C<sup>n</sup><sub>k</sub>.

### Пример:
```c++
std::cout << combinations(10, 4) << '\n'; // -> 210
std::cout << combinations(5, 0) << '\n'; // -> 1
```

## Задача 06 - Магически числа
Напишете функция, която по подадено естествено число, проверява дали сумата от делителите му е равна на самото число.

### Пример:
```c++
std::cout << std::boolalpha << is_magic(28) << '\n'; // -> true
std::cout << std::boolalpha << is_magic(12) << '\n'; // -> false
```

## Задача 07 - Най-голяма сума на цифри
Напишете функция `biggest_digit_sum`, която приема естествено число `n`. Функцията да въвежда `n` на брой числа и да връща това число измежду тях, което има най-голяма сума на цифрите си.

### Пример:
| Вход | Изход |
| :-----: | :------: |
| 28 76 123 452 | 76 |
| 152 901 3071 622 1523 | 1523 |

## Задача 08 - Предикати
Напишете функция `print_satisfying_predicates`, която по подадено естествено число `n`, принтира първите `n` числа които удовлетворяват следните предикати:
- Разликата между най-голямата и най-малката цифра на числото е 3;
- Сумата на цифрите на числото е просто число.

### Пример:
```c++
print_satisfying_predicates(7); // -> 14 25 30 41 47 52 58
```